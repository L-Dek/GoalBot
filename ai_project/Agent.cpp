#include "Agent.h"
#include "botroutine.h"
#include "inforetriever.h"
#include <iostream>
#include <vector>
#include <algorithm>

// m_icon should be a base64 string representing a 32x32pixel PNG-image
// you can convert your 32x32pixel PNG-image here: http://www.base64-image.de/
//const std::string Agent::m_icon = "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAAK/INwWK6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAASAAAAEgARslrPgAAAAl2cEFnAAAAIAAAACAAh/qcnQAACV5JREFUWMOtlwlcDHgbx/8liW1TWF68RFg3rSU21r2OfByljyMvORJhDbESOojWVY5QpnIldCkdSEU5SjlKW5qO0dAx1TTTTMfUVNPvfWay72vfdy2L/+fzfOb4zMzv+3/+z/P7P8PYB5b9VMYiXE1UT9tO68sMPZdoTg7Y3GOT/2ajUz4b+wd4bzC6fGZ9b+5pm64OrvPbzZ7Qiw2gz+p4WndjlsPY5621powZkfCeuV+NCd5hdOKR39KHr+4ffS18dlYhzr4ESdYpSDKcUPnEHiVJa5pzoxcJbx4ek3bSupPf2vFtJ/6Tvju5zyeKO85mbPEwphfA6bs9K3zHK2lBApqqBUCTGGiuohAB1ffRXOYPVJwBREeBEldIXnCQdcMS1/cZFzma6e4a1Y0Z/NT/EwBGdGEdwrb3dHud5FHVLCcxZQOJ1wCKSqAhjyIRsmJnRAW7ISzAFbkpzlC8dkb1y+0oSrHDb9FWuO5mLHOcpePeuR3r8Hf1Nbi2Xebz4w+UKxsktFuVeC3QSCANyYA8jB4vo7zAGm57N8F6pQ2WLJqHY26WKH3KQVGyHbJuLcejwPk4v31g+apxWgtUv/nR6jbDmG6cx7Tw+vIXtPNGEq8jcdp9wzMSD6K4ogYozbPFjm0rYG6+ECYmY9Gnbx94Os9AcUorQPK1hYjyHI898zqGjdRneh8NcHBpp1GCxMPFauEmeWs0llH6IykCKQLovQAU5f+CVdbmGPfDVBj2GQjtdroYObgbHof/C7w4awKwQKzPDHitNxRM6af53UcDhDr02laVe7PxP7tvlqO++jUK80NRwAtAfs5F5OWcR3racZw8Mh2O9oawW60P68Wa4KzVQxoVYe6dlUhRAfjOwkXHYfWLRmmv+Shx4+5M9+6Bb0PrSp9S+hWtZ99ch8qKYoSGhuD8+fPw9z+Hs2d9EXyNC2mpJRqE2qgvZZBT1BR1RskTK7y8vQopQQtxhwACXYxbOFO0T6v84YMAcwczw0dek1KbpHwSrm8FoCw01kvxIOkufH39KHzh7X0W166cgVx0BJCYAaUdKDTRwB+DklQ7vIy1xuO3AFf3fQ+HmTqRbTSY/l+K9zZgbP4QNiTFz/I3pVz4tvhqW4NaUCouQnRkOIl748SJUwgMOIk60XGg9hAgXUt+YIHavC0oebwRObErkBpsiTjf2Qjab4I9Zu0Tu7Zn/3iv+DfUqag0YNbfsdEpXPM8ZV3Z2+J7C9BYTa+rIK0sxJOUuwgJCsT1EB/KwGkCIDOqodasTqDjCEPly2PIT9yM1BAC8J+NYHcTuMzRSemtx3qbDXoPQCcdpsW1aTv59oHRVwUJ++taVOajElWFQhVSek6e0FSJlkYhGmR5qKlIh7ImjQCoXuTUonXJZJL3UFd6C6LcQGTFbUOc32z47h6B3WbaIrtxzHXmt6zrn5/9SNb9oeeIuBpeKFpkr2g3b9BCla8Q50JakoZy/h0U8cLwhhcMmTAJqKcaqSdHlGejSZqKV5leyEreiczErUi7tQEPwm1x65wFfPcaw9m2N9xsh8J1cQ/FahNNR9XF9n8AU4Zo6D8+MzmmseyZWhyyQrRQITZUZKKMH4e8F0FIT/bCnYjNiLm6HGUFoWqA5tp0ZDxwgd/h4bh80gSh3Cm4cmYavPePgMeOvnDfbAi3jf1wwmkG3NeNbF46Ssud5LT/1H7jD470rC960ALauQqgNQSQlKRT799BflY4HsQfQsg5axRm+JAb5kJSFIlgnwngHpqAiAuWuBexBkkx9ki6vgo3udNxfv/3OLptMDx+McFeq57yGQM0Vr/Xlv05fTfIeNcbUFusFv4dQkmhEPNQLUyDqPAmxK+C0Sy+R+nnEUAEYi5NReyV6chP3gBBGgeC5I3IT1iD5+FLyIhmwnuPMY5wBsPZvKN0Uh82472dsGdhJwth8rEaJaW+sTwDf8wE1YUsG6h6Qn1PNSB9rAaoLY/FgwhLPL+9CE1v9kLB34WK55uRf3cNnl1fjIRzc3DBdTSObx0Ep3m6hTSwDH8vAOenNuMLIu2qFLRTSRadcc2bdwCo6KQEIKGqFxNA9XOqeh7qRfHISLBB4WM7tJQcICNqBSi4RxmIWII47kz4bR+Esw5DsW3W1/GDO7Jv3guwdDTrHuI0/FJ64HJhXsSmZqUkn4QE/wNAGRDfp/cpQ3U5NB4kUOq3oDLbkZzQXZ0B0XMOAdgg/cZS3PaaDB+7nvDe2KfF9kedU1ofsGMNU0Omv/oHNinKbez9+jckVFP03yOQvmwFkDyi3s9WH0GTJBElNJZJXu5WZ0DxajdE6RzwE22QEWmFaI/xSpe57TNtTLVOTjLSMP3LuWBgN8YcFrRXgwTY99spybzS3FqQfwRokiSjruIRZKVxkAiCCMAZtQVuaoDGwt2ozNgCftJaZERZ4YrrqAqzIZpWH3URvbv2W2iN4cU48Vuq3ylCaQ5aCOBNpjfiw5Yh+vIcRF6cjkd0/SpeH6Yj+JUA9qgBCu/b4mmIBTxX9XhmpKeelP/e6m/ADG66jYiuIQdsPYZWAFQ9Q33ZHYgLAyEq4KIs5wikfA9AeIKG0lYA8YutEDxch/hTE7F1qrZfG8Z0P2Uw1vBa1t6aH+siexdASRmQFUVByOOiNPs4SrMOoizbDTV8dzoCdzQJqB4y7VGYZIOAnYNLphqx2Z80lmuq7ocBrHOs56woedFDyoLKE3JRU3wXiTfWI8RvCoK5ExDqa4pw/wlIjVmMBsE+NNNkLM3ejvSgedg5V/+yrgYz+Kw/J0eX6CzLu+0qU3uClAel+CklJBqV+RdQmecNSd4JSPOOQF54kDLwqxpA8mILQl1HChcMYRafJW5IYT6U6UfsMw2U5sZQ7xdQDZABURdAHA9U0pAqugaUnwPKvKgID0JZ7IIXwXNbHMy+9qOy12efuzzmMbZ1isaPyVxLnqKcPEBKo7qYfEBMxSm6QVMQjeiqf0fCk/R4BOL0n+G70fC5aU82ln3BpXnMuseKnKhdEmUVDR+yVAKhy0hCWREHUyYuEMhpyPOdEHPYpNjSuO1S+o7WF1PvQjFIl33ls66X08OLa7NyE9yFgvsHagVJLnJBooOcn8CRPQ22en1559C0laba68jKOrAvvX6eyJieBtOd3p+NspuqZe64wGCTo3kX+50LOttzZunazRvOzPrpsSH00fbjenz87/4boNFNVcqi+YQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMDktMDktMTVUMDk6MDQ6MzIrMDI6MDBRugiAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDA5LTA5LTE1VDA5OjA0OjMyKzAyOjAwIOewPAAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII=";
const std::string Agent::m_icon = "iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAR6SURBVEhL1ZZ7TNNXFMd/8qYUwYrloRWJj6EDhYmOTUHFMmGg+AAH4pwbEVFYpbZUQIY6X4gjxCybInOLy2KmURmCivJ2j0xwCeWRAE4TqWlxxg4ShoNA7s7uPbX9tZSRzP2xz1/ne+6v9/vruefe++PIf8zLN+js7MKI8pINlq9YXV5RiYIyUYOhoaHu7vtt7R09Gg2mLNi5O0Pg5nGz6hZqyj8YNDTeSUhMdnBx4+ycZ7/y6oKFr3lL/DiOmzXHP2d/fl9fHz5HyLkvz4s8p89bsDBm3Ybcjw4oVTm9T55A3qpBU/M9sY+vxG9eSekXev3vmDWgbm3LVKg4znbT5iSWOX6iyBdeYdHi2f4Btk7Ci5cus/zYBqm7MmwcXapr6lBbR5GVzXGToHoyudLdw1vsM9PDW/Lg4UMcHtMgbKU0JHQZigmg0+nsnF0Dg5doNJrme788f/4nDlDMDeLf2bIsPAKFBWY/ZsiVqqVvhE31nNHe0YEpE3gGV66WuXl4oTBBocoWiadDKeycXGGFg0NCL3x7kQ2lpO6S+M2FoEXdynF2LGkKz4Czcezqvo+CcqPqFsyYIZM/etSDKULq6hsCgkKWvhkmkyvmzg/ELCHbU1J3pKWjMGA0+Ox0yarIaBSUaxXXOc5e19uLms+S0OXQuygMwNtgZMCooYWh61HQnQVP//b0KWo+GxISwyMiDx05tmL1W5iixG1M+PzMWRQUo4GZOWxLKD0Kiipnf3xicnVNbdLW9xYtfp0lHQRunV3dLAag/de8vQ4FBSe929Q8PzCYxQxHobtOZywOyHSZ/HZ1jbOryD8gCLOE5OTlZ+3LRUFIT48G9jMKChpcLSuPjo1jMTA6Ogq7FAUhBYWfbHl3OwQxcRs3J22dIvYZHh5mQ9cqKqVRMSxmmP4QQINLl6+sXb+JxcDg4CBn64SCkKzs3KMFhT/8+NMqaRRIJ+EUrVbHhqpuV4dH8JYBuhkjChrUNzRC27GYAU09MjLCYs3jxxxn09KihniPXAntwPJA8alPP9iRhoKQZ8/0YI+CggZ6vX6SgwuLGZHRsee+Oo+CkJ/vNvnO8Ye/ZfpHATjert+sQkFITW0dtC8KChoAQvdpvz4wHlItarWtoxCFFaCjJos8UVBkmYq8/IMoKEaDvcp9GXvkKCgpqWlBIaEoLNBooG5cZxf/grQXQB4FxWjwByysxT6EnhGJfaA+qA2cOFkEDzfe+R415XRJaQi/PgBvxsy9WdI1vJ4DoMReM2YJJk9duz4+edv7cNbC1HBtDQwM4BMGIA/tgMKA+StP8555sqgYhQlarbbsu/Kvv7lQW9+AKT5wnR0+VoDCBHODv7eYvaCo+BTqiQGnwIu70wxzAwA8PLwkpht7HFrb2uGTIC1dhtqCMQwY0FFQ09y8A/39/ZjiA8fXSmkU7J7xr26rBgBMvXP3h3Dow6dKYvK2bPga+fgI7OTIqFjYcVD0M2dL8VHrjGfwAmh2WN6jxwvzDx6G5amovGHZQtaYkMG/4f9uQMhfq2sdnAr59OQAAAAASUVORK5CYII=";

Agent::Agent()
{}

Agent::~Agent()
{}

const std::string& Agent::GetName()
{
    return m_name;
}

const std::string& Agent::GetIcon()
{
     return m_icon;
}

ActionType Agent::GetAction(const GameStateContainer& container)
{
    #ifndef QT_NO_DEBUG
    //std::cout << "--- START CYCLE " << container.cycle << " ---" << std::endl;
    #endif

    InfoRetriever infoRetriever(m_playerName, container, m_memory);
    BotRoutine botRoutine(infoRetriever, m_memory);
    ActionType action = botRoutine.generateAction();

    return action;
}
